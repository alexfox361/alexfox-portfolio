{"ast":null,"code":"import * as d from \"react\";\nimport { useEffect as U, useRef as T } from \"react\";\nimport { forwardRefWithAs as C, render as I } from '../../utils/render.js';\nimport { useServerHandoffComplete as N } from '../../hooks/use-server-handoff-complete.js';\nimport { useSyncRefs as x } from '../../hooks/use-sync-refs.js';\nimport { Features as F, Hidden as v } from '../../internal/hidden.js';\nimport { focusElement as f, focusIn as b, Focus as i, FocusResult as G } from '../../utils/focus-management.js';\nimport { match as g } from '../../utils/match.js';\nimport { useEvent as K } from '../../hooks/use-event.js';\nimport { useTabDirection as V, Direction as M } from '../../hooks/use-tab-direction.js';\nimport { useIsMounted as O } from '../../hooks/use-is-mounted.js';\nimport { useOwnerDocument as W } from '../../hooks/use-owner.js';\nimport { useEventListener as k } from '../../hooks/use-event-listener.js';\nimport { microTask as y } from '../../utils/micro-task.js';\nimport { useWatch as j } from '../../hooks/use-watch.js';\nimport { useDisposables as q } from '../../hooks/use-disposables.js';\nlet z = \"div\";\n\nvar A = (t => (t[t.None = 1] = \"None\", t[t.InitialFocus = 2] = \"InitialFocus\", t[t.TabLock = 4] = \"TabLock\", t[t.FocusLock = 8] = \"FocusLock\", t[t.RestoreFocus = 16] = \"RestoreFocus\", t[t.All = 30] = \"All\", t))(A || {});\n\nlet de = Object.assign(C(function (u, e) {\n  let l = T(null),\n      a = x(l, e),\n      {\n    initialFocus: m,\n    containers: t,\n    features: n = 30,\n    ...E\n  } = u;\n  N() || (n = 1);\n  let s = W(l);\n  J({\n    ownerDocument: s\n  }, Boolean(n & 16));\n  let S = Q({\n    ownerDocument: s,\n    container: l,\n    initialFocus: m\n  }, Boolean(n & 2));\n  X({\n    ownerDocument: s,\n    container: l,\n    containers: t,\n    previousActiveElement: S\n  }, Boolean(n & 8));\n  let H = V(),\n      R = K(o => {\n    let c = l.current;\n    if (!c) return;\n\n    (_ => _())(() => {\n      g(H.current, {\n        [M.Forwards]: () => {\n          b(c, i.First, {\n            skipElements: [o.relatedTarget]\n          });\n        },\n        [M.Backwards]: () => {\n          b(c, i.Last, {\n            skipElements: [o.relatedTarget]\n          });\n        }\n      });\n    });\n  }),\n      B = q(),\n      L = T(!1),\n      P = {\n    ref: a,\n\n    onKeyDown(o) {\n      o.key == \"Tab\" && (L.current = !0, B.requestAnimationFrame(() => {\n        L.current = !1;\n      }));\n    },\n\n    onBlur(o) {\n      let c = new Set(t == null ? void 0 : t.current);\n      c.add(l);\n      let p = o.relatedTarget;\n      p instanceof HTMLElement && p.dataset.headlessuiFocusGuard !== \"true\" && (h(c, p) || (L.current ? b(l.current, g(H.current, {\n        [M.Forwards]: () => i.Next,\n        [M.Backwards]: () => i.Previous\n      }) | i.WrapAround, {\n        relativeTo: o.target\n      }) : o.target instanceof HTMLElement && f(o.target)));\n    }\n\n  };\n  return d.createElement(d.Fragment, null, Boolean(n & 4) && d.createElement(v, {\n    as: \"button\",\n    type: \"button\",\n    \"data-headlessui-focus-guard\": !0,\n    onFocus: R,\n    features: F.Focusable\n  }), I({\n    ourProps: P,\n    theirProps: E,\n    defaultTag: z,\n    name: \"FocusTrap\"\n  }), Boolean(n & 4) && d.createElement(v, {\n    as: \"button\",\n    type: \"button\",\n    \"data-headlessui-focus-guard\": !0,\n    onFocus: R,\n    features: F.Focusable\n  }));\n}), {\n  features: A\n});\n\nfunction J(_ref, u) {\n  let {\n    ownerDocument: r\n  } = _ref;\n  let e = T(null);\n  k(r == null ? void 0 : r.defaultView, \"focusout\", a => {\n    !u || e.current || (e.current = a.target);\n  }, !0), j(() => {\n    u || ((r == null ? void 0 : r.activeElement) === (r == null ? void 0 : r.body) && f(e.current), e.current = null);\n  }, [u]);\n  let l = T(!1);\n  U(() => (l.current = !1, () => {\n    l.current = !0, y(() => {\n      !l.current || (f(e.current), e.current = null);\n    });\n  }), []);\n}\n\nfunction Q(_ref2, l) {\n  let {\n    ownerDocument: r,\n    container: u,\n    initialFocus: e\n  } = _ref2;\n  let a = T(null),\n      m = O();\n  return j(() => {\n    if (!l) return;\n    let t = u.current;\n    !t || y(() => {\n      if (!m.current) return;\n      let n = r == null ? void 0 : r.activeElement;\n\n      if (e != null && e.current) {\n        if ((e == null ? void 0 : e.current) === n) {\n          a.current = n;\n          return;\n        }\n      } else if (t.contains(n)) {\n        a.current = n;\n        return;\n      }\n\n      e != null && e.current ? f(e.current) : b(t, i.First) === G.Error && console.warn(\"There are no focusable elements inside the <FocusTrap />\"), a.current = r == null ? void 0 : r.activeElement;\n    });\n  }, [l]), a;\n}\n\nfunction X(_ref3, a) {\n  let {\n    ownerDocument: r,\n    container: u,\n    containers: e,\n    previousActiveElement: l\n  } = _ref3;\n  let m = O();\n  k(r == null ? void 0 : r.defaultView, \"focus\", t => {\n    if (!a || !m.current) return;\n    let n = new Set(e == null ? void 0 : e.current);\n    n.add(u);\n    let E = l.current;\n    if (!E) return;\n    let s = t.target;\n    s && s instanceof HTMLElement ? h(n, s) ? (l.current = s, f(s)) : (t.preventDefault(), t.stopPropagation(), f(E)) : f(l.current);\n  }, !0);\n}\n\nfunction h(r, u) {\n  var e;\n\n  for (let l of r) if ((e = l.current) != null && e.contains(u)) return !0;\n\n  return !1;\n}\n\nexport { de as FocusTrap };","map":{"version":3,"sources":["C:/Users/alex/Documents/GitHub/alexfox-portfolio/node_modules/@headlessui/react/dist/components/focus-trap/focus-trap.js"],"names":["d","useEffect","U","useRef","T","forwardRefWithAs","C","render","I","useServerHandoffComplete","N","useSyncRefs","x","Features","F","Hidden","v","focusElement","f","focusIn","b","Focus","i","FocusResult","G","match","g","useEvent","K","useTabDirection","V","Direction","M","useIsMounted","O","useOwnerDocument","W","useEventListener","k","microTask","y","useWatch","j","useDisposables","q","z","A","t","None","InitialFocus","TabLock","FocusLock","RestoreFocus","All","de","Object","assign","u","e","l","a","initialFocus","m","containers","features","n","E","s","J","ownerDocument","Boolean","S","Q","container","X","previousActiveElement","H","R","o","c","current","_","Forwards","First","skipElements","relatedTarget","Backwards","Last","B","L","P","ref","onKeyDown","key","requestAnimationFrame","onBlur","Set","add","p","HTMLElement","dataset","headlessuiFocusGuard","h","Next","Previous","WrapAround","relativeTo","target","createElement","Fragment","as","type","onFocus","Focusable","ourProps","theirProps","defaultTag","name","r","defaultView","activeElement","body","contains","Error","console","warn","preventDefault","stopPropagation","FocusTrap"],"mappings":"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","sourcesContent":["import*as d from\"react\";import{useEffect as U,useRef as T}from\"react\";import{forwardRefWithAs as C,render as I}from'../../utils/render.js';import{useServerHandoffComplete as N}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as x}from'../../hooks/use-sync-refs.js';import{Features as F,Hidden as v}from'../../internal/hidden.js';import{focusElement as f,focusIn as b,Focus as i,FocusResult as G}from'../../utils/focus-management.js';import{match as g}from'../../utils/match.js';import{useEvent as K}from'../../hooks/use-event.js';import{useTabDirection as V,Direction as M}from'../../hooks/use-tab-direction.js';import{useIsMounted as O}from'../../hooks/use-is-mounted.js';import{useOwnerDocument as W}from'../../hooks/use-owner.js';import{useEventListener as k}from'../../hooks/use-event-listener.js';import{microTask as y}from'../../utils/micro-task.js';import{useWatch as j}from'../../hooks/use-watch.js';import{useDisposables as q}from'../../hooks/use-disposables.js';let z=\"div\";var A=(t=>(t[t.None=1]=\"None\",t[t.InitialFocus=2]=\"InitialFocus\",t[t.TabLock=4]=\"TabLock\",t[t.FocusLock=8]=\"FocusLock\",t[t.RestoreFocus=16]=\"RestoreFocus\",t[t.All=30]=\"All\",t))(A||{});let de=Object.assign(C(function(u,e){let l=T(null),a=x(l,e),{initialFocus:m,containers:t,features:n=30,...E}=u;N()||(n=1);let s=W(l);J({ownerDocument:s},Boolean(n&16));let S=Q({ownerDocument:s,container:l,initialFocus:m},Boolean(n&2));X({ownerDocument:s,container:l,containers:t,previousActiveElement:S},Boolean(n&8));let H=V(),R=K(o=>{let c=l.current;if(!c)return;(_=>_())(()=>{g(H.current,{[M.Forwards]:()=>{b(c,i.First,{skipElements:[o.relatedTarget]})},[M.Backwards]:()=>{b(c,i.Last,{skipElements:[o.relatedTarget]})}})})}),B=q(),L=T(!1),P={ref:a,onKeyDown(o){o.key==\"Tab\"&&(L.current=!0,B.requestAnimationFrame(()=>{L.current=!1}))},onBlur(o){let c=new Set(t==null?void 0:t.current);c.add(l);let p=o.relatedTarget;p instanceof HTMLElement&&p.dataset.headlessuiFocusGuard!==\"true\"&&(h(c,p)||(L.current?b(l.current,g(H.current,{[M.Forwards]:()=>i.Next,[M.Backwards]:()=>i.Previous})|i.WrapAround,{relativeTo:o.target}):o.target instanceof HTMLElement&&f(o.target)))}};return d.createElement(d.Fragment,null,Boolean(n&4)&&d.createElement(v,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:R,features:F.Focusable}),I({ourProps:P,theirProps:E,defaultTag:z,name:\"FocusTrap\"}),Boolean(n&4)&&d.createElement(v,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:R,features:F.Focusable}))}),{features:A});function J({ownerDocument:r},u){let e=T(null);k(r==null?void 0:r.defaultView,\"focusout\",a=>{!u||e.current||(e.current=a.target)},!0),j(()=>{u||((r==null?void 0:r.activeElement)===(r==null?void 0:r.body)&&f(e.current),e.current=null)},[u]);let l=T(!1);U(()=>(l.current=!1,()=>{l.current=!0,y(()=>{!l.current||(f(e.current),e.current=null)})}),[])}function Q({ownerDocument:r,container:u,initialFocus:e},l){let a=T(null),m=O();return j(()=>{if(!l)return;let t=u.current;!t||y(()=>{if(!m.current)return;let n=r==null?void 0:r.activeElement;if(e!=null&&e.current){if((e==null?void 0:e.current)===n){a.current=n;return}}else if(t.contains(n)){a.current=n;return}e!=null&&e.current?f(e.current):b(t,i.First)===G.Error&&console.warn(\"There are no focusable elements inside the <FocusTrap />\"),a.current=r==null?void 0:r.activeElement})},[l]),a}function X({ownerDocument:r,container:u,containers:e,previousActiveElement:l},a){let m=O();k(r==null?void 0:r.defaultView,\"focus\",t=>{if(!a||!m.current)return;let n=new Set(e==null?void 0:e.current);n.add(u);let E=l.current;if(!E)return;let s=t.target;s&&s instanceof HTMLElement?h(n,s)?(l.current=s,f(s)):(t.preventDefault(),t.stopPropagation(),f(E)):f(l.current)},!0)}function h(r,u){var e;for(let l of r)if((e=l.current)!=null&&e.contains(u))return!0;return!1}export{de as FocusTrap};\n"]},"metadata":{},"sourceType":"module"}